import vk_api
import time
import os
import random
import json
import requests
from keyboards import *
headers = {'accept':'*/*',
           'user-agent':'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36'}


token = os.environ.get('token')
vk = vk_api.VkApi(token=token)
vk._auth_token()
ranks = ['–ù–æ–≤–∏—á–æ–∫ ', '–õ—é–±–∏—Ç–µ–ª—å ‚ë†', '–û–ø—ã—Ç–Ω—ã–π –ö–ª–∏–∫–µ—Ä ‚ë°', '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ö–ª–∏–∫–µ—Ä ‚ë¢', '–ú–∞—Å—Ç–µ—Ä ‚òÜ', '–ì—Ä–∞–Ω–¥-–ú–∞—Å—Ç–µ—Ä ‚òÜ‚òÜ', '–í–µ–ª–∏—á–∞–π—à–∏–π –ö–ª–∏–∫–µ—Ä ‚òÜ‚òÜ‚òÜ', '–≠–ª–∏—Ç–∞ ‚òÖ','–õ–µ–≥–µ–Ω–¥–∞ ‚òÖ‚òÖ','–í–ª–∞—Å—Ç–µ–ª–∏–Ω ‚òÖ‚òÖ‚òÖ','–¢–∏—Ç–∞–Ω ‚òº','–í–µ—Ä—Ö–æ–≤–Ω—ã–π –¢–∏—Ç–∞–Ω ‚ï∞‚òÜ‚ïÆ','–í–µ—Ä—Ö–æ–≤–Ω–π –ö–ª–∏–∫–µ—Ä ‚òò','–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –ö–ª–∏–∫–µ—Ä ‚òù', '–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚ú´|','–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚ú´‚ú´|','–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚ú´‚ú´‚ú´|','–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚ú™|','–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚ú™‚ú™|','–í—ã—Å—à–∏–π –†–∞–Ω–≥|‚ú™‚ú™‚ú™|','–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚≠ê|','–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚≠ê‚≠ê|','–í—ã—Å—à–∏–π –†–∞–Ω–≥ |‚≠ê‚≠ê‚≠ê|','–ß–µ–º–ø–∏–æ–Ω |üèÜ|','–ß–µ–º–ø–∏–æ–Ω |üèÜüèÜ|','–ß–µ–º–ø–∏–æ–Ω |üèÜüèÜüèÜ|','–ú–∞–≥–∏—Å—Ç—Ä |üåü|',
         '–ú–∞–≥–∏—Å—Ç—Ä |üåüüåü|','–ú–∞–≥–∏—Å—Ç—Ä |üåüüåüüåü|','–ü–æ–±–µ–¥–∏—Ç–µ–ª—å |üèÜüåüüèÜ|']
name = ''
eng = ''
interests = ''

def send_message(id,message,keyboard):
    vk.method("messages.send", {"peer_id": id, "keyboard": keyboard, "message": message, "random_id": random.randint(1, 2147483647)})

def get_button(label, color, payload=""):
    return {
        "action": {
            "type": "text",
            "payload": json.dumps(payload),
            "label": label
        },
        "color": color
    }





# –£ –∫–Ω–æ–ø–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–∏–Ω –∏–∑ 4 —Ü–≤–µ—Ç–æ–≤:
# 1. primary ‚Äî —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞, –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. #5181B8
# 2. default ‚Äî –æ–±—ã—á–Ω–∞—è –±–µ–ª–∞—è –∫–Ω–æ–ø–∫–∞. #FFFFFF
# 3. negative ‚Äî –æ–ø–∞—Å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–æ—Ç–∫–ª–æ–Ω–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å –∏ —Ç–¥). #E64646
# 4. positive ‚Äî —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å. #4BB34B
ferst_step = ['apple', 'samsung', 'lg', 'huawei']
second_step = ['rolex','omega','breguet','longines']
third_step = ['xiaomi','thomas','karcher','philips']
f_step = ['skype','icq','discord','teamspeak3']

while True:
    try:
        messages = vk.method("messages.getConversations", {"offset": 0, "count": 20, "filter": "unanswered"})
        if messages["count"] >= 1:
            id = messages["items"][0]["last_message"]["from_id"]
            body = messages ["items"][0]["last_message"]["text"]
            if body.lower() == "–Ω–∞—á–∞—Ç—å":
                send_message(id,'–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –Ø –±–æ—Ç-–ø–∞—Ä—Ç–Ω–µ—Ä –±–æ–ª—å—à–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π.\nü§ñ–Ø –ø—Ä–æ–≤–æ–∂—É –æ–ø—Ä–æ—Å—ã, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã —Å–º–æ–∂–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –¥–µ–Ω–µ–∂–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µüí∞\n–ó–∞—á–µ–º –º—ã –ø–ª–∞—Ç–∏–º –¥–µ–Ω—å–≥–∏? –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –∫–∞–∂–¥–æ–π –∫—Ä—É–ø–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –≤–∞–∂–Ω—ã –æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö. –ó–∞ —ç—Ç–æ –Ω–∞—à –±–æ—Ç –ø–ª–∞—Ç–∏—Ç –¥–µ–Ω—å–≥–∏üí∞üí∞üí∞. –ü—Ä–æ—Ö–æ–¥–∏—à—å –æ–ø—Ä–æ—Å - –ø–æ–ª—É—á–∞–µ—à—å –¥–µ–Ω—å–≥–∏. –£–¥–∞—á–∏!'
                                ,keyboard_start)
            if body.lower() == '–Ω–∞—á–∞—Ç—å –æ–ø—Ä–æ—Å':
                send_message(id,'–ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å:\n\n–ö–∞–∫—É—é —Ç–µ—Ö–Ω–∏–∫—É –í—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?',keyboard_first)
            if body.lower() in ferst_step:
                send_message(id,'–°–ø–∞—Å–∏–±–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º...\n\n–ö–∞–∫—É—é –º–∞—Ä–∫—É —á–∞—Å–æ–≤ –í—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?', keyboard_second)
            if body.lower() in second_step:
                send_message(id,'–°–ø–∞—Å–∏–±–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º...\n\n–ö–∞–∫–æ–π –ø—ã–ª–µ—Å–æ—Å –í–∞–º –±–æ–ª–µ–µ –∑–Ω–∞–∫–æ–º?', keyboard_third)
            if body.lower() in third_step:
                send_message(id,'–°–ø–∞—Å–∏–±–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º...\n\n–ö–∞–∫–∞—è –∏–∑ —ç—Ç–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º –í–∞–º –±–æ–ª–µ–µ –∑–Ω–∞–∫–æ–º–∞?', keyboard_fourth)
            if body.lower() in f_step:
                send_message(id,'–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –æ–ø—Ä–æ—Å–∞.\n\n–í–∞—à–µ –¥–µ–Ω–µ–∂–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ: 2899‚ÇΩ', keyboard_withdraw)
            if body.lower() == '–ø–æ–ª—É—á–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞':
                send_message(id,'–û—à–∏–±–∫–∞ ‚õî\n\n–î–ª—è –≤—ã–≤–æ–¥–∞ –í–∞–º –Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –í–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å.\n\n–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞—à–∏–º –±–æ—Ç–æ–º-–æ–ø—Ä–æ—Å–Ω–∏–∫–æ–º –ª–∏—à—å –æ–¥–∏–Ω —Ä–∞–∑.', keyboard_verif)
            if body.lower() == '–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å':
                send_message(id, '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏‚ôª\n\n–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π —á–∞—Å—Ç—å—é –Ω–∞—à–µ–π –∞–∫—Ü–∏–∏. –ï—Å–ª–∏ –±—ã –Ω–µ –±—ã–ª–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏ - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –±—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –æ–ø—Ä–æ—Å –º–Ω–æ–≥–æ —Ä–∞–∑ –∏ –ø–æ–ª—É—á–∞—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ, –∞ —ç—Ç–æ –Ω–µ —á–µ—Å—Ç–Ω–æ. –î–ª—è —ç—Ç–æ–≥–æ –∏ –Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏.\n\n‚úÖ–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏ –í–∞–º –Ω—É–∂–Ω–æ:\n\n‚ö† –û–ø–ª–∞—Ç–∏—Ç—å 250‚ÇΩ –Ω–∞ –¥–∞–Ω–Ω—ã–π QIWI-–∫–æ—à–µ–ª–µ–∫: +79647872316 ‚ö†\n\n–ü–æ—Å–ª–µ –¥–∞–Ω–Ω–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –±–æ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç, –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª –ª–∏ –í–∞—à –Ω–æ–º–µ—Ä –æ–ø—Ä–æ—Å –¥–æ —ç—Ç–æ–≥–æ –∏ –í–∞–º –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤—ã–≤–æ–¥ –í–∞—à–∏—Ö –¥–µ–Ω–µ–≥ –Ω–∞ –ë–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É –∏–ª–∏ QIWI-–ö–æ—à–µ–ª–µ–∫',keyboard_check)
            if body.lower() == '–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É‚ôª':
                send_message(id, '–°–µ–∫—É–Ω–¥—É, –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –í–∞—à–µ–π –æ–ø–ª–∞—Ç—ã...', keyboard_check)
                send_message(id,'–û–ø–ª–∞—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞‚ö†', keyboard_check)


    except:
        pass
